# Proof Carrying Code Completions (PC<sup>3</sup>) 
PC<sup>3</sup> is a framweork to verify if code generated by large lanuage models (LLMs) satisfy preselected safety properties by the users.
> [!WARNING] 
> PC<sup>3</sup> is under active development

# Table of Contents

1. [Introduction](#introduction)
2. [Installation](#installation)
3. [Configuration](#Configuration)
3. [Usage](#usage)
4. [Features](#features)
5. [Contributing](#contributing)
6. [License](#license)


# Introduction
PC<sup>3</sup>
 is a framweork to verify if the codes are generated (or completed - as the future work) satisfy preselected safety properties by the user (These safety properties are chosen and converted to verification conditions manually in the current version).


# Installation
## Clone PC<sup>3</sup> Repository
1. Clone PC<sup>3</sup> repository using this link `https://github.com/DavisPL/PCCC.git`
## Dependencies
### Install Dafny
1. Use [Dafny official user installation instruction](https://github.com/dafny-lang/dafny/wiki/INSTALL) to install Dafny ``version 4.6.0`` on a unix-based system.
2. Make sure that dafny is accessible from the command line and verify the version by trying `dafny --version`. The output should be <b>=4.6.0</b>
### Install Python
1. Use [python](https://docs.python.org/3/contents.html) official documentation to install a python with ``version >=3.12.3``.
2. Check python version `python --version`. The output should be <b>>=3.12.3</b>
---

### Requirenents
Use the package manager [pip](https://pip.pypa.io/en/stable/) to install requiremetns.
To install required packages you can simply use the following command
```
pip install -r requirements.txt
```
Or install required packages separately using pip 
```
pip install openai==1.35.9
pip install anthropic==0.34.2
pip install langchain==0.2.7
pip install lunary==1.1.3
```
---
## Configuration
Use the env.config file and modify it to add your desired configurations to work with PCCC.
env.config includes two main parts to set the requirements for the tool execution and the configureations required for the few-shot prompting. 
1. The deafault configuration of the tool includes the following sections:
    - API keys: the API keys for the desired LLM and also Lunary API for tracking to this part
    - Model parameters: LLM parameters including the LLM model, coold down time, temperature (= 0.75), max number of tokens (= 4000)
    - Required files: Set the absolute path for the following files:
        - Set the absolute path for the input task [task 6 json file](./src/tasks/task-6.json)
        - Set the absolute base path for the output [output](./output/)
        - Set the absolute path for the effectful interface APIs to allow the tool to include it in the generated code [effectful interface](./filesystems-api/interface/effectful-interface.dfy)

2. The prompting configuration needs absolute path to required files
    - Set RAG examples by adding the absolute path to the [json file including RAG example](./benchmark/RAG_samples.json)
    - Set the absolute path to the [json file that includes APIs of the effectful interface] (./benchmark/interface_api.json)
    - Set the number of few shot exampels in the  [Chain of Thought (CoT) Prompt template]()  5 in our exper

## Tool Execution
1. Switch to the [source folder](./src/) and run the [main.py](./src/main.py) file to run the tool
```
cd src
python3 main.py
```
# Repusitory Structure
